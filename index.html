<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏ß‡∏•‡∏≤‡∏•‡∏∞‡∏´‡∏°‡∏≤‡∏î - Southern Thailand</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap');
        
        :root {
            --bg-gray: #f4f7f6;
            --blue-header: #007bff;
            --white: #ffffff;
            --text-dark: #333;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            background-color: var(--bg-gray);
            margin: 0;
            display: flex;
            justify-content: center;
            padding: 20px;
        }

        .main-card {
            width: 100%;
            max-width: 450px;
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            overflow: hidden;
            text-align: center;
        }

        .top-banner {
            background-color: var(--blue-header);
            color: white;
            padding: 15px;
            font-size: 1.8rem;
            font-weight: bold;
        }

        .info-bar {
            padding: 15px;
            background: #fdfdfd;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: center;
            gap: 15px;
            font-size: 0.9rem;
            color: #555;
        }

        .selection-area {
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        select {
            padding: 8px 15px;
            border-radius: 10px;
            border: 1px solid #ddd;
            font-family: 'Sarabun';
            font-size: 1rem;
            min-width: 200px;
        }

        .prayer-list {
            padding: 0 20px 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .prayer-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border: 1px solid #f0f0f0;
        }

        .prayer-name {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .prayer-name i { font-size: 1.4rem; width: 25px; text-align: center; }
        .fajr i { color: #5c6bc0; }
        .sunrise i { color: #ec407a; }
        .dhuhr i { color: #fbc02d; }
        .asr i { color: #29b6f6; }
        .maghrib i { color: #ef5350; }
        .isha i { color: #3f51b5; }

        .prayer-time { font-size: 1.5rem; font-weight: bold; }

        /* ‡∏™‡∏µ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ Shurooq (‡∏ó‡∏≤‡∏á‡∏ú‡πà‡∏≤‡∏ô) */
        .sunrise-card { background: linear-gradient(to right, #ff758c, #ff7eb3); color: white; border: none; }
        .sunrise-card .prayer-time { color: white; }

        .footer-msg {
            font-size: 0.8rem;
            color: #888;
            padding: 15px;
            background: #fafafa;
        }

        /* Admin Styles */
        .admin-trigger { font-size: 0.7rem; color: #eee; cursor: pointer; padding: 10px; }
        .overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.98); z-index: 1000;
            flex-direction: column; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box;
        }
    </style>
</head>
<body>

<div class="main-card">
    <div class="top-banner">ÿ£ŸàŸÇÿßÿ™ ÿßŸÑÿµŸÑÿßÿ©</div>
    
    <div class="info-bar">
        <span>üìÖ <span id="dateText">-- --- ----</span></span>
        <span>‚è∞ <span id="clockText">00:00:00</span></span>
    </div>

    <div class="selection-area">
        <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î:</label>
        <select id="citySelect" onchange="updateView()">
            <option value="‡∏¢‡∏∞‡∏•‡∏≤">‡∏¢‡∏∞‡∏•‡∏≤</option>
            <option value="‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä">‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä / ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á</option>
            <option value="‡∏à‡∏∞‡∏ô‡∏∞">‡∏à‡∏∞‡∏ô‡∏∞ / ‡πÄ‡∏ó‡∏û‡∏≤</option>
            <option value="‡∏™‡∏ï‡∏π‡∏•">‡∏™‡∏ï‡∏π‡∏•</option>
            <option value="‡∏ï‡∏£‡∏±‡∏á">‡∏ï‡∏£‡∏±‡∏á</option>
            <option value="‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ">‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ</option>
            <option value="‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™">‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™</option>
            <option value="‡∏™‡∏∏‡πÑ‡∏´‡∏á‡πÇ‡∏Å‡∏•‡∏Å">‡∏™‡∏∏‡πÑ‡∏´‡∏á‡πÇ‡∏Å‡∏•‡∏Å</option>
        </select>
    </div>

    <div class="prayer-list" id="prayerDisplay">
        </div>

    <div class="footer-msg" id="footerMsg">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏¢‡∏∞‡∏•‡∏≤</div>
    
    <div class="admin-trigger" onclick="openLogin()">ADMIN SETTINGS</div>
</div>

<div id="loginOverlay" class="overlay">
    <h2>Admin Access</h2>
    <input type="password" id="adminPass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" style="width:200px; padding:10px; margin:10px;">
    <button onclick="checkLogin()" style="padding:10px 20px; background:var(--blue-header); color:white; border:none; border-radius:5px;">‡∏ï‡∏Å‡∏•‡∏á</button>
    <button onclick="closeOverlay()" style="background:none; border:none; color:gray; margin-top:10px;">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
</div>

<audio id="adhanAudio"><source src="adhan.mp3" type="audio/mpeg"></audio>

<script>
    const cityOffsets = {
        '‡∏¢‡∏∞‡∏•‡∏≤': 0, '‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä': 3, '‡∏à‡∏∞‡∏ô‡∏∞': 1, '‡∏™‡∏ï‡∏π‡∏•': 2, '‡∏ï‡∏£‡∏±‡∏á': 4, '‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ': -2, '‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™': -4, '‡∏™‡∏∏‡πÑ‡∏´‡∏á‡πÇ‡∏Å‡∏•‡∏Å': -5
    };

    const footerTexts = {
        '‡∏¢‡∏∞‡∏•‡∏≤': '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏¢‡∏∞‡∏•‡∏≤',
        '‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä': '‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° 3 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ó‡∏µ‡πà‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏Ø / ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á',
        '‡∏à‡∏∞‡∏ô‡∏∞': '‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° 1 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ô‡∏∞ / ‡πÄ‡∏ó‡∏û‡∏≤',
        '‡∏™‡∏ï‡∏π‡∏•': '‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° 2 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ó‡∏µ‡πà‡∏™‡∏ï‡∏π‡∏•',
        '‡∏ï‡∏£‡∏±‡∏á': '‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° 4 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏±‡∏á',
        '‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ': '‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏•‡∏ö 2 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ó‡∏µ‡πà‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ',
        '‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™': '‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏•‡∏ö 4 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ó‡∏µ‡πà‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™',
        '‡∏™‡∏∏‡πÑ‡∏´‡∏á‡πÇ‡∏Å‡∏•‡∏Å': '‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏•‡∏ö 5 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πÑ‡∏´‡∏á‡πÇ‡∏Å‡∏•‡∏Å'
    };

    // ‡∏ê‡∏≤‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£‡∏¥‡∏á (‡∏¢‡∏∞‡∏•‡∏≤) - Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏≤‡πÅ‡∏Å‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ
    let baseTimes = JSON.parse(localStorage.getItem('basePrayerTimes')) || {
        Fajr: "05:16", Sunrise: "06:28", Dhuhr: "12:31", Asr: "15:51", Maghrib: "18:32", Isha: "19:40"
    };

    function addMinutes(timeStr, mins) {
        let [h, m] = timeStr.split(':').map(Number);
        let date = new Date();
        date.setHours(h, m + mins, 0);
        return date.toLocaleTimeString('th-TH', { hour: '2-digit', minute: '2-digit', hour12: false });
    }

    function updateView() {
        const city = document.getElementById('citySelect').value;
        const offset = cityOffsets[city];
        const container = document.getElementById('prayerDisplay');
        const footer = document.getElementById('footerMsg');
        
        footer.innerText = footerTexts[city];
        container.innerHTML = '';

        const items = [
            { key: 'Fajr', name: 'ŸÅÿ¨ÿ±', icon: 'fa-moon', cls: 'fajr' },
            { key: 'Sunrise', name: 'ÿ¥ÿ±ŸàŸÇ', icon: 'fa-cloud-sun', cls: 'sunrise-card' },
            { key: 'Dhuhr', name: 'ÿ∏Ÿáÿ±', icon: 'fa-sun', cls: 'dhuhr' },
            { key: 'Asr', name: 'ÿπÿµÿ±', icon: 'fa-cloud', cls: 'asr' },
            { key: 'Maghrib', name: 'ŸÖÿ∫ÿ±ÿ®', icon: 'fa-cloud-moon', cls: 'maghrib' },
            { key: 'Isha', name: 'ÿπÿ¥ÿßÿ°', icon: 'fa-moon', cls: 'isha' }
        ];

        items.forEach(item => {
            const finalTime = addMinutes(baseTimes[item.key], offset);
            container.innerHTML += `
                <div class="prayer-item ${item.cls}">
                    <div class="prayer-name">
                        <i class="fas ${item.icon}"></i>
                        <span>${item.name}</span>
                    </div>
                    <div class="prayer-time">${finalTime}</div>
                </div>
            `;
        });
    }

    function updateClock() {
        const now = new Date();
        document.getElementById('clockText').innerText = now.toLocaleTimeString('th-TH');
        document.getElementById('dateText').innerText = now.toLocaleDateString('th-TH', { day: 'numeric', month: 'long', year: 'numeric' });
    }

    // --- ‡∏£‡∏∞‡∏ö‡∏ö Admin ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô ---
    function openLogin() { document.getElementById('loginOverlay').style.display = 'flex'; }
    function closeOverlay() { document.getElementById('loginOverlay').style.display = 'none'; }
    function checkLogin() {
        if(document.getElementById('adminPass').value === "1234") {
            let newFajr = prompt("‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤ Fajr ‡πÉ‡∏´‡∏°‡πà (‡∏¢‡∏∞‡∏•‡∏≤):", baseTimes.Fajr);
            if(newFajr) {
                baseTimes.Fajr = newFajr;
                localStorage.setItem('basePrayerTimes', JSON.stringify(baseTimes));
                updateView();
            }
            closeOverlay();
        } else { alert("‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î"); }
    }

    setInterval(updateClock, 1000);
    updateView();
</script>

</body>
</html>
