<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prayer Times - Thailand</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-green: #2D5A27;
            --light-green: #E8F5E9;
            --accent-green: #4CAF50;
            --white: #ffffff;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .phone-mockup {
            width: 380px;
            background: var(--white);
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            border: 8px solid #333;
        }

        /* Header ดีไซน์ตามรูป */
        .header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .logo-area { font-weight: bold; color: var(--primary-green); line-height: 1; }
        .location-info { text-align: right; font-size: 0.8rem; color: #666; }

        .hero-section {
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .hero-text h1 {
            color: var(--primary-green);
            font-size: 2.5rem;
            margin: 0;
            letter-spacing: 2px;
        }

        /* รายการเวลาละหมาด */
        .prayer-container {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .prayer-card {
            background: linear-gradient(to right, var(--primary-green), var(--accent-green));
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 10px rgba(45, 90, 39, 0.2);
        }

        .prayer-info { display: flex; align-items: center; gap: 15px; }
        .prayer-info i { font-size: 1.2rem; opacity: 0.8; }
        .prayer-name { font-weight: bold; font-size: 1.1rem; }
        .prayer-time { font-size: 1.1rem; font-weight: 300; }

        /* มัสยิดตกแต่งด้านขวา */
        .mosque-bg {
            position: absolute;
            right: -20px;
            bottom: 0;
            width: 200px;
            opacity: 0.1;
            pointer-events: none;
        }

        /* ปุ่ม Admin */
        .admin-btn {
            position: absolute;
            bottom: 10px;
            left: 10px;
            font-size: 0.7rem;
            color: #ccc;
            background: none;
            border: none;
            cursor: pointer;
        }

        /* Modal ตั้งค่า */
        #adminModal {
            display: none;
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.95);
            z-index: 100;
            padding: 20px;
            box-sizing: border-box;
            color: #333;
        }

        .active-now {
            border: 3px solid gold;
            transform: scale(1.02);
        }

        .btn-green {
            background: var(--primary-green);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            width: 100%;
            margin-top: 10px;
        }
    </style>
</head>
<body>

<div class="phone-mockup">
    <div class="header">
        <div class="logo-area">LOGO<br>HERE</div>
        <div class="location-info">
            <div id="cityDisplay">CITY NAME</div>
            <div id="dateDisplay">MONTH 00, 202X</div>
        </div>
    </div>

    <div class="hero-section">
        <div class="hero-text">
            <h1>PRAYER<br>TIMES</h1>
        </div>
        <div style="font-size: 4rem; color: var(--primary-green); opacity: 0.2;">
            <i class="fas fa-mosque"></i>
        </div>
    </div>

    <div class="prayer-container" id="prayerList">
        </div>

    <button class="admin-btn" onclick="openAdmin()">Admin Login</button>

    <div id="adminModal">
        <h3>ตั้งค่าเวลาละหมาด (Manual)</h3>
        <div id="adminInputs"></div>
        <button class="btn-green" onclick="saveAdminSettings()">บันทึกข้อมูล</button>
        <button class="btn-green" style="background:#666" onclick="closeAdmin()">ปิด</button>
        <p style="font-size: 0.7rem; margin-top: 10px;">* ข้อมูลจะถูกบันทึกไว้ในเครื่องนี้เท่านั้น</p>
    </div>

    <audio id="adhanAudio"><source src="adhan.mp3" type="audio/mpeg"></audio>
</div>

<script>
    const prayerKeys = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];
    const prayerTh = { Fajr: 'FAJR', Dhuhr: 'DHUHR', Asr: 'ASR', Maghrib: 'MAGHRIB', Isha: 'ISHA' };
    const prayerIcons = { Fajr: 'fa-sun', Dhuhr: 'fa-certificate', Asr: 'fa-cloud-sun', Maghrib: 'fa-moon', Isha: 'fa-star' };

    let prayerTimes = JSON.parse(localStorage.getItem('customPrayers')) || {
        Fajr: "05:10", Dhuhr: "12:30", Asr: "15:45", Maghrib: "18:35", Isha: "19:45"
    };

    function renderDisplay() {
        const container = document.getElementById('prayerList');
        container.innerHTML = '';
        const now = new Date();
        const currentHM = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;

        prayerKeys.forEach(key => {
            const isNow = currentHM === prayerTimes[key];
            container.innerHTML += `
                <div class="prayer-card ${isNow ? 'active-now' : ''}">
                    <div class="prayer-info">
                        <i class="fas ${prayerIcons[key]}"></i>
                        <span class="prayer-name">${prayerTh[key]}</span>
                    </div>
                    <div class="prayer-time">${prayerTimes[key]} AM/PM</div>
                </div>
            `;
            if (isNow) playAdhan();
        });

        document.getElementById('dateDisplay').innerText = now.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
    }

    // ระบบ Admin
    function openAdmin() {
        const pass = prompt("กรุณาใส่รหัสผ่านแอดมิน:");
        if (pass === "1234") { // รหัสผ่านเริ่มต้น
            document.getElementById('adminModal').style.display = 'block';
            const inputContainer = document.getElementById('adminInputs');
            inputContainer.innerHTML = '';
            prayerKeys.forEach(key => {
                inputContainer.innerHTML += `
                    <div style="margin-bottom:10px">
                        ${key}: <input type="time" id="edit-${key}" value="${prayerTimes[key]}">
                    </div>
                `;
            });
        } else {
            alert("รหัสผ่านไม่ถูกต้อง");
        }
    }

    function saveAdminSettings() {
        prayerKeys.forEach(key => {
            prayerTimes[key] = document.getElementById(`edit-${key}`).value;
        });
        localStorage.setItem('customPrayers', JSON.stringify(prayerTimes));
        alert("บันทึกสำเร็จ!");
        closeAdmin();
        renderDisplay();
    }

    function closeAdmin() { document.getElementById('adminModal').style.display = 'none'; }
    
    function playAdhan() {
        const audio = document.getElementById('adhanAudio');
        audio.play().catch(e => console.log("รอ User คลิกหน้าเว็บก่อนเสียงถึงจะดัง"));
    }

    setInterval(renderDisplay, 30000); // อัปเดตทุก 30 วินาที
    renderDisplay();
</script>

</body>
</html>
